<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="TKCat">
<title>Defining and using Requirements for Knowledge Management (KMR) in TKCat • TKCat</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Defining and using Requirements for Knowledge Management (KMR) in TKCat">
<meta property="og:description" content="TKCat">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-7RG3ZVT8WZ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7RG3ZVT8WZ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">TKCat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/TKCat.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/TKCat-KMR-POK.html">Defining and using Requirements for Knowledge Management (KMR) in TKCat</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/patzaw/TKCat/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Defining and using Requirements for Knowledge Management (KMR) in TKCat</h1>
                        <h4 data-toc-skip class="author">Patrice
Godard</h4>
            
            <h4 data-toc-skip class="date">May 07, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/patzaw/TKCat/blob/HEAD/vignettes/TKCat-KMR-POK.Rmd" class="external-link"><code>vignettes/TKCat-KMR-POK.Rmd</code></a></small>
      <div class="d-none name"><code>TKCat-KMR-POK.Rmd</code></div>
    </div>

    
    
<p>In TKCat, knowledge resources are manipulated as modeled database
(MDB) objects. These objects provide access to the data tables along
with a general description of the resource and a detail data model
documenting the tables, their fields and their relationships. These MDB
are then gathered in TKCat catalogs that can be explored an shared.</p>
<p>Beside the relational model, no additional constraints are applied to
an MDB. This allows for high flexibility in the data that can be
managed. However, in some cases, it could be useful to add further
constraints to ensure that the data is compatible with specific analysis
or integration workflows. In TKCat, this feature is supported by KMR
(Knowledge Management Requirements). A KMR object is meant to be shared
and centrally managed. MDBs intended to meet these requirements must
contain technical tables referring to the corresponding KMR. When
grouped in the same TKCat catalog, KMRs and MDBs form a coherent corpus
of knowledge that can be leveraged consistently by KMR-tailored
functions.</p>
<p>The first part of this document describes how to create a KMR object.
The second part shows how to refer to these requirements in an MDB
object. Finally, the third part describes how to use KMR and MDB
together to leverage pieces of knowledge (POK).</p>
<div class="section level2">
<h2 id="defining-kmr">Defining KMR<a class="anchor" aria-label="anchor" href="#defining-kmr"></a>
</h2>
<div class="section level3">
<h3 id="kmr-organization">KMR organization<a class="anchor" aria-label="anchor" href="#kmr-organization"></a>
</h3>
<p>A KMR object is an MDB object with a predefined data model. It is
simply created by calling the <code><a href="../reference/create_KMR.html">create_KMR()</a></code> function which
takes some metadata as arguments.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_KMR.html">create_KMR</a></span><span class="op">(</span></span>
<span>   name<span class="op">=</span><span class="st">"EBKM"</span>,</span>
<span>   title<span class="op">=</span><span class="st">"Experimental and Biological Knowledge Management"</span>,</span>
<span>   description<span class="op">=</span><span class="st">"Requirements for integrating knowledge from biological research activities"</span>,</span>
<span>   version<span class="op">=</span><span class="st">"0.1"</span>,</span>
<span>   maintainer<span class="op">=</span><span class="st">"[Patrice Godard](mailto:patrice.godard@gmail.com)"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The figure below shows the data model of such an object. A KMR object
describes requirements regarding:</p>
<ul>
<li><p>Tables: the features that can be found in the table and which of
them are mandatory.</p></li>
<li><p>Features: the properties composing the feature and which of them
are mandatory. In tables providing the feature, there should be one
column per feature property.</p></li>
<li><p>Feature properties: the type and the kind of measurement (if
relevant)</p></li>
<li><p>Units: possible units for measurements</p></li>
<li><p>Possible character or integer values for measurement
properties</p></li>
</ul>
<p>It’s also possible to store helpers in a KMR object. These helpers
are typically functions used to query MDBs fitting KMR requirements.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/data_model.html">data_model</a></span><span class="op">(</span><span class="va">ebkm</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>   <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="KMR-data-model.png"></p>
</div>
<div class="section level3">
<h3 id="define-requirements">Define requirements<a class="anchor" aria-label="anchor" href="#define-requirements"></a>
</h3>
<div class="section level4">
<h4 id="table-and-mandatory-features">Table and mandatory features<a class="anchor" aria-label="anchor" href="#table-and-mandatory-features"></a>
</h4>
<p>In the example below, we define requirements for tables providing
information about biological samples. Such table must provide at least a
sample name and a sample description.</p>
<p>It is specified by first defining the features,</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_feature_def.html">add_feature_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   name <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>   description <span class="op">=</span> <span class="st">"name/identifier of a record"</span>,</span>
<span>   properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"value"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>      <span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_feature_def.html">add_feature_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   name <span class="op">=</span> <span class="st">"description"</span>,</span>
<span>   description <span class="op">=</span> <span class="st">"description of a record"</span>,</span>
<span>   properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"value"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>      <span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>and then by defining the table.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_table_def.html">add_table_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   name <span class="op">=</span> <span class="st">"samples"</span>,</span>
<span>   description <span class="op">=</span> <span class="st">"A table listing samples and associated features"</span>,</span>
<span>   mandatory_features<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"description"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="optional-features">Optional features<a class="anchor" aria-label="anchor" href="#optional-features"></a>
</h4>
<p>Non mandatory features can then added to the table definition. For
samples, we can define the sex and tissue features and add them to the
table definition:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_feature_def.html">add_feature_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   name <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>   description <span class="op">=</span> <span class="st">"Subject sex"</span>,</span>
<span>   properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"value"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>      <span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_feature_def.html">add_feature_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   name <span class="op">=</span> <span class="st">"tissue"</span>,</span>
<span>   description <span class="op">=</span> <span class="st">"Name of a biological tissue"</span>,</span>
<span>   properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"value"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"identifier"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>         description <span class="op">=</span> <span class="st">"Identifier in reference database"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"reference"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type<span class="op">=</span><span class="st">"character"</span>,</span>
<span>         description <span class="op">=</span> <span class="st">"Reference database"</span>,</span>
<span>         mandatory<span class="op">=</span><span class="cn">TRUE</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"side"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>         description <span class="op">=</span> <span class="st">"Sampling side"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"relative side"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type<span class="op">=</span><span class="st">"character"</span>,</span>
<span>         description <span class="op">=</span> <span class="st">"Sampling relative side"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"side reference"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type<span class="op">=</span><span class="st">"character"</span>,</span>
<span>         description <span class="op">=</span></span>
<span>            <span class="st">"Reference for relative side (e.g., Handedness, treatment...)"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>      <span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_table_features.html">add_table_features</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   table <span class="op">=</span> <span class="st">"samples"</span>,</span>
<span>   features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"tissue"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="possible-values-for-feature-properties">Possible values for feature properties<a class="anchor" aria-label="anchor" href="#possible-values-for-feature-properties"></a>
</h4>
<p>We can also define a list of possible values for some feature
property that we want to standardize as shown below.</p>
<ul>
<li>
<p>Possible values for sex</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_property_values.html">add_property_values</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>, feature <span class="op">=</span> <span class="st">"sex"</span>, property <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>   values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"female"</span>, <span class="st">"male"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p>Tissues must be defined using the <a href="http://obofoundry.org/ontology/uberon.html" class="external-link">Uberon</a> ontology.
The way to define sampling side, absolutely or relatively to a
reference, is also controlled.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_property_values.html">add_property_values</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>, feature <span class="op">=</span> <span class="st">"tissue"</span>, property <span class="op">=</span> <span class="st">"reference"</span>,</span>
<span>   values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Uberon"</span> <span class="op">=</span> <span class="st">"https://obophenotype.github.io/uberon/"</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_property_values.html">add_property_values</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>, feature <span class="op">=</span> <span class="st">"tissue"</span>, property <span class="op">=</span> <span class="st">"side"</span>,</span>
<span>   values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"right"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_property_values.html">add_property_values</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>, feature <span class="op">=</span> <span class="st">"tissue"</span>, property <span class="op">=</span> <span class="st">"relative side"</span>,</span>
<span>   values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ipsilateral"</span>, <span class="st">"contralateral"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="measurements">Measurements<a class="anchor" aria-label="anchor" href="#measurements"></a>
</h4>
<p>Some feature properties could correspond to measurements with units.
To be able to create such property, we first need to define the possible
units. For example, “age” “value” is a “duration” that can be expressed
using different units, such as “m” (months) or “y” (years).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_unit_def.html">add_unit_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   measurement <span class="op">=</span> <span class="st">"duration"</span>, unit <span class="op">=</span> <span class="st">"s"</span>, description <span class="op">=</span> <span class="st">"seconds"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_unit_def.html">add_unit_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   measurement <span class="op">=</span> <span class="st">"duration"</span>, unit <span class="op">=</span> <span class="st">"min"</span>, description <span class="op">=</span> <span class="st">"minutes"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_unit_def.html">add_unit_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   measurement <span class="op">=</span> <span class="st">"duration"</span>, unit <span class="op">=</span> <span class="st">"h"</span>, description <span class="op">=</span> <span class="st">"hours"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_unit_def.html">add_unit_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   measurement <span class="op">=</span> <span class="st">"duration"</span>, unit <span class="op">=</span> <span class="st">"d"</span>, description <span class="op">=</span> <span class="st">"days"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_unit_def.html">add_unit_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   measurement <span class="op">=</span> <span class="st">"duration"</span>, unit <span class="op">=</span> <span class="st">"m"</span>, description <span class="op">=</span> <span class="st">"months"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_unit_def.html">add_unit_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   measurement <span class="op">=</span> <span class="st">"duration"</span>, unit <span class="op">=</span> <span class="st">"y"</span>, description <span class="op">=</span> <span class="st">"years"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_unit_def.html">add_unit_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   measurement <span class="op">=</span> <span class="st">"duration"</span>, unit <span class="op">=</span> <span class="st">"w"</span>, description <span class="op">=</span> <span class="st">"weeks"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">##</span></span>
<span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_feature_def.html">add_feature_def</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   name <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>   description <span class="op">=</span> <span class="st">"Elapsed time since birth"</span>,</span>
<span>   properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"value"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         type <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>         mandatory <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         measurement <span class="op">=</span> <span class="st">"duration"</span></span>
<span>      <span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_table_features.html">add_table_features</a></span><span class="op">(</span></span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   table <span class="op">=</span> <span class="st">"samples"</span>,</span>
<span>   features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="km-specifications">KM specifications<a class="anchor" aria-label="anchor" href="#km-specifications"></a>
</h2>
<div class="section level3">
<h3 id="exploring-requirements">Exploring requirements<a class="anchor" aria-label="anchor" href="#exploring-requirements"></a>
</h3>
<p>Before documenting the specifications of an MDB fitting KMR
requirements, those requirements can be explored using different
functions.</p>
<ul>
<li>
<p>Get supported table types:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_table_types.html">list_table_types</a></span><span class="op">(</span><span class="va">ebkm</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">##   name    description                                     collection</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> samples A table listing samples and associated features <span style="color: #BB0000;">NA</span></span></span></code></pre>
</li>
<li>
<p>Get supported features:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_table_features.html">list_table_features</a></span><span class="op">(</span><span class="va">ebkm</span>, <span class="st">"samples"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">##   table   feature     mandatory feature.description         properties          </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> samples description TRUE      description of a record     value               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> samples name        TRUE      name/identifier of a record value               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> samples age         FALSE     Elapsed time since birth    value               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> samples sex         FALSE     Subject sex                 value               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> samples tissue      FALSE     Name of a biological tissue identifier, referen…</span></span></code></pre>
</li>
<li>
<p>Details about feature properties:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_feature_properties.html">list_feature_properties</a></span><span class="op">(</span><span class="va">ebkm</span>, <span class="st">"tissue"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">##   feature property       type      mandatory measurement description            </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> tissue  identifier     character TRUE      <span style="color: #BB0000;">NA</span>          Identifier in referenc…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> tissue  reference      character TRUE      <span style="color: #BB0000;">NA</span>          Reference database     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> tissue  value          character TRUE      <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>                     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> tissue  relative side  character FALSE     <span style="color: #BB0000;">NA</span>          Sampling relative side </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> tissue  side           character FALSE     <span style="color: #BB0000;">NA</span>          Sampling side          </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> tissue  side reference character FALSE     <span style="color: #BB0000;">NA</span>          Reference for relative…</span></span></code></pre>
</li>
<li>
<p>Get property supported values:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_property_values.html">list_property_values</a></span><span class="op">(</span><span class="va">ebkm</span>, <span class="st">"sex"</span>, <span class="st">"value"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 × 4</span></span></span>
<span><span class="co">##   feature property value  description</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> sex     value    female <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> sex     value    male   <span style="color: #BB0000;">NA</span></span></span></code></pre>
</li>
<li>
<p>Get measurements and units:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_measurements.html">list_measurements</a></span><span class="op">(</span><span class="va">ebkm</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "duration"</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_measurement_units.html">list_measurement_units</a></span><span class="op">(</span><span class="va">ebkm</span>, <span class="st">"duration"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 7 × 3</span></span></span>
<span><span class="co">##   measurement unit  description</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> duration    d     days       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> duration    h     hours      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> duration    m     months     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> duration    min   minutes    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> duration    s     seconds    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> duration    w     weeks      </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">7</span> duration    y     years</span></span></code></pre>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="documenting-mdb-specifications">Documenting MDB specifications<a class="anchor" aria-label="anchor" href="#documenting-mdb-specifications"></a>
</h3>
<div class="section level4">
<h4 id="simple-example">Simple example<a class="anchor" aria-label="anchor" href="#simple-example"></a>
</h4>
<p>Let’s create a simple MDB with only one table with biological samples
information.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>   name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S1"</span>, <span class="st">"S2"</span>, <span class="st">"S3"</span>, <span class="st">"S4"</span><span class="op">)</span>,</span>
<span>   description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Sample from left hippocampus from patient 1"</span>,</span>
<span>      <span class="st">"Sample from left hippocampus from patient 2"</span>,</span>
<span>      <span class="st">"Sample from left hippocampus from patient 3"</span>,</span>
<span>      <span class="st">"Sample from left hippocampus from patient 4"</span></span>
<span>   <span class="op">)</span>,</span>
<span>   sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"female"</span>, <span class="st">"male"</span><span class="op">)</span>,</span>
<span>   age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">36</span>, <span class="fl">28</span>, <span class="fl">42</span><span class="op">)</span>,</span>
<span>   tissue_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"hippocampus"</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>   tissue_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"UBERON_0002421"</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>   tissue_ref <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Uberon"</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>   tissue_side <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>   seizures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">31</span>, <span class="fl">64</span>, <span class="fl">12</span>, <span class="fl">29</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">ReDaMoR</span><span class="fu">::</span><span class="fu"><a href="https://patzaw.github.io/ReDaMoR/reference/df_to_model.html" class="external-link">df_to_model</a></span><span class="op">(</span><span class="va">samples</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>   <span class="fu">ReDaMoR</span><span class="fu">::</span><span class="fu"><a href="https://patzaw.github.io/ReDaMoR/reference/auto_layout.html" class="external-link">auto_layout</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mdb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/memoMDB.html">memoMDB</a></span><span class="op">(</span></span>
<span>   <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>samples<span class="op">=</span><span class="va">samples</span><span class="op">)</span>,</span>
<span>   <span class="va">model</span>,</span>
<span>   dbInfo<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      name<span class="op">=</span><span class="st">"Test"</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The specifications of the sample table fitting the EBKM requirement
defined above can be document as following. Additional columns not part
of the KMR requirements (e.g. “seizures”) can still be used in the MDB
but are not part of specifications.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mdb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_km_spec.html">add_km_spec</a></span><span class="op">(</span><span class="va">mdb</span>, <span class="va">ebkm</span><span class="op">)</span></span>
<span><span class="va">mdb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_km_table.html">add_km_table</a></span><span class="op">(</span></span>
<span>   <span class="va">mdb</span>, <span class="va">ebkm</span>,</span>
<span>   name<span class="op">=</span><span class="st">"samples"</span>, type<span class="op">=</span><span class="st">"samples"</span>,</span>
<span>   features<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      </span>
<span>      <span class="co">### TBKM mandatory features ###</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>feature<span class="op">=</span><span class="st">"name"</span>, fields<span class="op">=</span><span class="st">"name"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>feature<span class="op">=</span><span class="st">"description"</span>, fields<span class="op">=</span><span class="st">"description"</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="co">### TBKM optional features  ###</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>feature<span class="op">=</span><span class="st">"age"</span>, fields<span class="op">=</span><span class="st">"age"</span>, unit<span class="op">=</span><span class="st">"y"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>feature<span class="op">=</span><span class="st">"sex"</span>, fields<span class="op">=</span><span class="st">"sex"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>         feature<span class="op">=</span><span class="st">"tissue"</span>,</span>
<span>         fields<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>            <span class="st">"value"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>field<span class="op">=</span><span class="st">"tissue_name"</span><span class="op">)</span>,</span>
<span>            <span class="st">"identifier"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>field<span class="op">=</span><span class="st">"tissue_id"</span><span class="op">)</span>,</span>
<span>            <span class="st">"reference"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>field<span class="op">=</span><span class="st">"tissue_ref"</span><span class="op">)</span>,</span>
<span>            <span class="st">"side"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>field<span class="op">=</span><span class="st">"tissue_side"</span><span class="op">)</span></span>
<span>         <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="piece-of-knowledge-pok">Piece Of Knowledge (POK)<a class="anchor" aria-label="anchor" href="#piece-of-knowledge-pok"></a>
</h2>
<div class="section level3">
<h3 id="helpers">Helpers<a class="anchor" aria-label="anchor" href="#helpers"></a>
</h3>
<p>Helpers are R functions that are attached to a KMR or an MDB object
to leverage the provided information.</p>
<div class="section level4">
<h4 id="kmr-helpers">KMR helpers<a class="anchor" aria-label="anchor" href="#kmr-helpers"></a>
</h4>
<p>Helpers are written in .R script that are then attach to the object
of interest. For example the following function has been saved the
“EBKM-helpers.R” file.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">###############################################################################@</span></span>
<span><span class="co">#' Get reference URLs of biological tissues</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @param ids tissue identifiers</span></span>
<span><span class="co">#' @param reference reference database (default: "Uberon")</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @return URLs corresponding to provided ids</span></span>
<span><span class="co">#'   </span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#' </span></span>
<span><span class="va">get_tissue_ref_url</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">ids</span>, <span class="va">reference</span><span class="op">=</span><span class="st">"Uberon"</span><span class="op">)</span><span class="op">{</span></span>
<span>   <span class="va">reference</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/match.arg.html" class="external-link">match.arg</a></span><span class="op">(</span><span class="va">reference</span><span class="op">)</span></span>
<span>   <span class="va">url_templates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Uberon"</span><span class="op">=</span><span class="st">"https://purl.obolibrary.org/obo/%s"</span><span class="op">)</span></span>
<span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="va">url_templates</span><span class="op">[</span><span class="va">reference</span><span class="op">]</span>, <span class="va">ids</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>It can be attached to the KMR object as follows:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_helpers.html">add_helpers</a></span><span class="op">(</span></span>
<span>   <span class="va">ebkm</span>,</span>
<span>   code<span class="op">=</span><span class="st">"EBKM-helpers.R"</span>,</span>
<span>   name<span class="op">=</span><span class="st">"R-Helpers"</span>,</span>
<span>   language <span class="op">=</span> <span class="st">"R"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Then the helpers can be retrieved and used as follows:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm_helpers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_R_helpers.html">get_R_helpers</a></span><span class="op">(</span><span class="va">ebkm</span><span class="op">)</span></span>
<span><span class="va">ebkm_helpers</span><span class="op">$</span><span class="fu">help</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## - <span style="font-weight: bold;">get_tissue_ref_url</span>: Get reference URLs of biological tissues</span></span>
<span><span class="co">## - <span style="font-weight: bold;">help</span>: Display documentation regarding an helper function</span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm_helpers</span><span class="op">$</span><span class="fu">help</span><span class="op">(</span><span class="st">"get_tissue_ref_url"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #BBBBBB; background-color: #0000BB; font-weight: bold;">get_tissue_ref_url</span>: Get reference URLs of biological tissues</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="background-color: #00BBBB;">Usage</span>: get_tissue_ref_url(ids, reference = "Uberon")</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="background-color: #00BBBB;">Parameters</span>:</span></span>
<span><span class="co">##   - <span style="text-decoration: underline;">ids</span>: tissue identifiers</span></span>
<span><span class="co">##   - <span style="text-decoration: underline;">reference</span>: reference database (default: "Uberon")</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="background-color: #00BBBB;">Result</span>: URLs corresponding to provided ids</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ebkm_helpers</span><span class="op">$</span><span class="fu">get_tissue_ref_url</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"UBERON_0002421"</span>, <span class="st">"UBERON_0001876"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "https://purl.obolibrary.org/obo/UBERON_0002421"</span></span>
<span><span class="co">## [2] "https://purl.obolibrary.org/obo/UBERON_0001876"</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="mdb-helpers">MDB helpers<a class="anchor" aria-label="anchor" href="#mdb-helpers"></a>
</h4>
<p>Helpers can also be added to MDB with KM specifications. For example
the following function summarizes the number of seizures associated to
biological samples:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">###############################################################################@</span></span>
<span><span class="co">#' Summarize the number of seizures observed in samples</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @param x MDB object (by default, the MDB to which the function is attached).</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @return A table with Min., 1st Qu., Median, Mean, 3rd Qu. and Max. values</span></span>
<span><span class="co">#'   </span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#' </span></span>
<span><span class="va">summarize_seizures</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">=</span><span class="va">THISMDB</span><span class="op">)</span><span class="op">{</span></span>
<span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">samples</span><span class="op">$</span><span class="va">seizures</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>When associating and retrieving MDB helpers, KMR object need to be
provided:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mdb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_helpers.html">add_helpers</a></span><span class="op">(</span></span>
<span>   <span class="va">mdb</span>,</span>
<span>   kmr <span class="op">=</span> <span class="va">ebkm</span>,</span>
<span>   code<span class="op">=</span><span class="st">"MDB-helpers.R"</span>,</span>
<span>   name<span class="op">=</span><span class="st">"R-Helpers"</span>,</span>
<span>   language <span class="op">=</span> <span class="st">"R"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>MDB helpers can be retrieved and used similarly as KMR helpers:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mdb_helpers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_R_helpers.html">get_R_helpers</a></span><span class="op">(</span><span class="va">mdb</span>, kmr <span class="op">=</span> <span class="va">ebkm</span><span class="op">)</span></span>
<span><span class="va">mdb_helpers</span><span class="op">$</span><span class="fu">help</span><span class="op">(</span><span class="st">"summarize_seizures"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #BBBBBB; background-color: #0000BB; font-weight: bold;">summarize_seizures</span>: Summarize the number of seizures observed in samples</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="background-color: #00BBBB;">Usage</span>: summarize_seizures(x = THISMDB)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="background-color: #00BBBB;">Parameters</span>:</span></span>
<span><span class="co">##   - <span style="text-decoration: underline;">x</span>: MDB object (by default, the MDB to which the function is attached).</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="background-color: #00BBBB;">Result</span>: A table with Min., 1st Qu., Median, Mean, 3rd Qu. and Max. values</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mdb_helpers</span><span class="op">$</span><span class="fu">summarize_seizures</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span><span class="co">##   12.00   24.75   30.00   34.00   39.25   64.00</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="pok-objects">POK objects<a class="anchor" aria-label="anchor" href="#pok-objects"></a>
</h3>
<p>MDB can be combined with relevant KMR to create POK (Piece Of
Knowledge) objects:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pok</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_POK.html">create_POK</a></span><span class="op">(</span><span class="va">mdb</span>, <span class="va">ebkm</span><span class="op">)</span></span>
<span><span class="va">pok</span></span></code></pre></div>
<pre><code><span><span class="co">## Test POK with EBKM requirements.</span></span>
<span><span class="co">## This POK comes with 4 helpers: </span></span>
<span><span class="co">##    - summarize_seizures</span></span>
<span><span class="co">##    - help</span></span>
<span><span class="co">##    - get_tissue_ref_url</span></span>
<span><span class="co">##    - EBKM_help</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## You can get further information with x$helpers$help() and x$helpers$EBKM_help() functions</span></span></code></pre>
<p>A POK object is a list with the following slots:</p>
<ul>
<li>mdb: the provided MDB object</li>
<li>kmr: the provided KMR object</li>
<li>helpers (optional): functions found in mdb and kmr helpers</li>
<li>tkcat (optional): a TKCat or chTKCat object from mdb or kmr or
directly provided to the constructor.</li>
</ul>
<p>POK can be retrieved directly from a TKCat or chTKCat object as
examplified below:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tkcat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TKCat.html">TKCat</a></span><span class="op">(</span>Test<span class="op">=</span><span class="va">mdb</span>, EBKM<span class="op">=</span><span class="va">ebkm</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_POK.html">get_POK</a></span><span class="op">(</span><span class="va">tkcat</span>, <span class="st">"Test"</span>, <span class="st">"EBKM"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Test POK with EBKM requirements.</span></span>
<span><span class="co">## This POK comes with 4 helpers: </span></span>
<span><span class="co">##    - summarize_seizures</span></span>
<span><span class="co">##    - help</span></span>
<span><span class="co">##    - get_tissue_ref_url</span></span>
<span><span class="co">##    - EBKM_help</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## You can get further information with x$helpers$help() and x$helpers$EBKM_help() functions</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://patzaw.github.io" class="external-link">Patrice Godard</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
